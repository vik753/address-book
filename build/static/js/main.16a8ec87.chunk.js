(this.webpackJsonpbreez=this.webpackJsonpbreez||[]).push([[0],{139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(45),r=a.n(c),i=(a(52),a(11)),l=a(10),o=a(3),j=a(17),d=(a(53),s.a.createContext({})),b=a(142),h=a(0),u=function(){var e=Object(n.useContext)(d),t=e.users,a=e.setUsers,s=t.map((function(e){var n=Object.values(e.phones),s="".concat(n[0].description,": ").concat(n[0].number),c=n.filter((function(e){return e.number!==n[0].number})),r="".concat(Object(j.a)(e.first_name)[0].toUpperCase()).concat(Object(j.a)(e.last_name)[0].toUpperCase());return Object(h.jsxs)(l.b,{className:"user-card",to:"/edit/".concat(e.id),title:"Click to edit",children:[Object(h.jsxs)("div",{className:"user-name_wrapper",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{className:"user-logo",children:r}),Object(h.jsxs)("span",{className:"user-name",children:[e.first_name," ",e.last_name]})]}),Object(h.jsxs)("div",{className:"user-name_inner-wrapper",children:[Object(h.jsx)("div",{className:"user-first_phone",children:s}),Object(h.jsx)("div",{className:"remove-contact",title:"Remove contact","data-id":e.id,onClick:function(e){if(e.preventDefault(),e.stopPropagation(),window.confirm("Do you really want to delete this contact?")){var n=e.target.dataset.id;if(console.log(e.target.dataset.id),n){var s=t.filter((function(e){return e.id!==n}));a(s)}}},children:Object(h.jsxs)("svg",{"data-id":e.id,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"tomato",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(h.jsx)("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"})]})})]})]}),n.length>1&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"more-phones",children:"more phones..."}),Object(h.jsx)("div",{className:"user-other_phones",children:c.length?c.map((function(e){return Object(h.jsxs)("span",{children:[e.description,": ",e.number]},e.number)})):"no more phones here..."})]})]},e.id)}));return Object(h.jsxs)("div",{className:"home-wrapper",children:[Object(h.jsx)("h1",{children:"Phone Book"}),Object(h.jsxs)("div",{className:"contacts-wrapper",children:[Object(h.jsx)(l.b,{className:"add-contact",title:"Add new",to:"/edit/".concat(Object(b.a)()),children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#7eba8b",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(h.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}),s]})]})},m=a(5),p=a(12),O=a(20),v=a.n(O),f=(a(59),a(27)),x=a.n(f),w=function(){var e=Object(o.g)().id,t=Object(o.f)(),a=Object(n.useRef)(null),s=Object(n.useRef)(null),c=Object(n.useRef)(null),r=Object(n.useContext)(d),l=r.users,u=r.setUsers,O=Object(n.useState)(null),f=Object(i.a)(O,2),w=f[0],g=f[1],N=Object(n.useState)(0),_=Object(i.a)(N,2),k=_[0],C=(_[1],Object(n.useState)({first_name:!0,last_name:!0})),z=Object(i.a)(C,2),y=z[0],H=z[1],M=Object(n.useState)({}),B=Object(i.a)(M,2),V=B[0],D=B[1],S=Object(n.useState)(!0),F=Object(i.a)(S,2),A=F[0],P=F[1];Object(n.useEffect)((function(){if(e){var t=l.filter((function(t){return t.id===e}));if(t.length){g(t[0]);var a={};Object.keys(t[0].phones).map((function(e){a[e]=!0})),D(a)}else g({id:e,first_name:"",last_name:"",phones:Object(p.a)({},Object(b.a)(),{number:"",description:"mobile"})})}}),[]);var q=function(e){e.preventDefault();var t=e.target.id;t&&(R(),g((function(a){return Object(m.a)(Object(m.a)({},a),{},{phones:Object(m.a)(Object(m.a)({},a.phones),{},Object(p.a)({},t,{description:a.phones[t].description,number:e.target.value}))})})))},I=function(e){e.preventDefault();var t=e.target.dataset.id;g((function(a){return Object(m.a)(Object(m.a)({},a),{},{phones:Object(m.a)(Object(m.a)({},a.phones),{},Object(p.a)({},t,{description:e.target.value,number:a.phones[t].number}))})}))},L=function(e){e.preventDefault(),e.target.dataset.id&&(R(),g((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(p.a)({},e.target.id,e.target.value))})))},R=function(){var e=w.first_name,t=w.last_name,a=w.phones,n={};Object.entries(a).map((function(e){var t=Object(i.a)(e,2),a=t[0],s=t[1];n[a]=v.a.isMobilePhone(s.number.replaceAll("-",""))})),D(n);var s=x.a.every(n,Boolean),c={first_name:v.a.isLength(e,{min:2,max:24}),last_name:v.a.isLength(t,{min:2,max:24})};H(c);var r=x.a.every(c,Boolean);return P(s&&r),s&&r};return Object(h.jsxs)("div",{className:"edit-wrapper",children:[Object(h.jsx)("h1",{children:"Edit Contact"}),Object(h.jsxs)("div",{className:"user-data",ref:a,children:[Object(h.jsx)("div",{className:"add-phone",title:"Add new phone",onClick:function(e){e.preventDefault();var t=Object(b.a)();t&&g((function(e){return Object(m.a)(Object(m.a)({},e),{},{phones:Object(m.a)(Object(m.a)({},e.phones),{},Object(p.a)({},t,{description:"mobile",number:""}))})}))},children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#7eba8b",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(h.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}),Object(h.jsx)("div",{className:"remove-phone",title:"Remove phone",onClick:function(e){e.preventDefault();var t=e.target.dataset.id,a=Object.assign({},w.phones);delete a[t],g((function(e){return Object(m.a)(Object(m.a)({},e),{},{phones:a})}))},disabled:1===k,ref:s,children:Object(h.jsxs)("svg",{ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"tomato",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(h.jsx)("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"})]})}),Object(h.jsxs)("div",{className:"user-data_row",children:[Object(h.jsx)("label",{htmlFor:"first_name",children:"First Name:*"}),Object(h.jsx)("input",{id:"first_name",type:"text",placeholder:"First Name",required:!0,value:w?w.first_name:"","data-id":w?w.id:null,onChange:L,className:y.first_name?"":"errorInput"})]}),Object(h.jsxs)("div",{className:"user-data_row",children:[Object(h.jsx)("label",{htmlFor:"last_name",children:"Last Name:*"}),Object(h.jsx)("input",{id:"last_name",type:"text",placeholder:"Last Name",required:!0,value:w?w.last_name:"","data-id":w?w.id:null,onChange:L,className:y.last_name?"":"errorInput"})]}),Object(h.jsx)(h.Fragment,{children:w&&Object.values(w.phones).length&&Object.keys(w.phones).map((function(e){return t=e,s.current&&c.current&&(s.current.setAttribute("data-id",t),c.current.setAttribute("data-id",t)),Object(h.jsxs)("div",{className:"user-data_row phone-row phone-row_".concat(t),"data-phoneid":t,children:[Object(h.jsx)("label",{htmlFor:t,children:"Phone:*"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("select",{name:"phone-type",className:"phone-type","data-id":t,value:w.phones[t].description,onChange:I,children:[Object(h.jsx)("option",{value:"mobile",children:"Mobile"}),Object(h.jsx)("option",{value:"work",children:"Work"}),Object(h.jsx)("option",{value:"home",children:"Home"}),Object(h.jsx)("option",{value:"car",children:"Car"})]}),Object(h.jsx)("input",{id:t,type:"text",placeholder:"Phone",value:w.phones[t].number,onChange:q,required:!0,className:V[t]?"":"errorInput"})]})]},t);var t}))})]}),!A&&Object(h.jsx)("p",{className:"all-required",children:"*All fields are required! Phones must be in correct format."}),Object(h.jsxs)("div",{className:"buttons-wrapper",children:[Object(h.jsx)("input",{type:"button",value:"Cancel",className:"cancelBtn",onClick:function(e){e.preventDefault(),t.push("/")}}),Object(h.jsx)("input",{type:"button",value:"Save",className:"saveBtn",onClick:function(e){e.preventDefault(),R()&&(l.find((function(e){return e.id===w.id}))?u((function(e){return e.map((function(e){return e.id===w.id?w:e}))})):u((function(e){return[].concat(Object(j.a)(e),[w])})),t.push("/"))}})]})]})},g=(a(139),function(){return Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("div",{className:"header-wrapper",children:[Object(h.jsx)("h2",{className:"logo",children:"Logo"}),Object(h.jsxs)("div",{className:"links",children:[Object(h.jsx)(l.b,{to:"/",className:"link",children:"Home"}),Object(h.jsx)(l.b,{to:"/",className:"link",children:"About"}),Object(h.jsx)(l.b,{to:"/",className:"link",children:"Contacts"})]})]})})}),N=(a(140),function(){return Object(h.jsx)("div",{className:"footer",children:Object(h.jsxs)("div",{className:"footer_links",children:[Object(h.jsx)("span",{children:"Twitter"}),Object(h.jsx)("span",{children:"Facebook"}),Object(h.jsx)("span",{children:"Instagram"}),Object(h.jsx)("span",{children:"Telegram"})]})})}),_=[{id:"0dadsf-asdf",first_name:"John",last_name:"Dow",phones:{"aaa-001":{number:"+380503332233",description:"mobile"},"aaa-002":{number:"+380503176534",description:"work"}}},{id:"1asdfa-asdfads",first_name:"Dan",last_name:"Brown",phones:{"aaa-003":{number:"+380675233322",description:"mobile"}}},{id:"2asdf-asdf",first_name:"Milla",last_name:"Jovovich",phones:{"aaa-004":{number:"+380663515151",description:"home"}}},{id:"3asdfas-asdf",first_name:"Bruce",last_name:"Willis",phones:{"aaa-005":{number:"+380995890509",description:"mobile"},"aaa-006":{number:"+380995890508",description:"home"},"aaa-007":{number:"+380995890507",description:"work"},"aaa-008":{number:"+380995890506",description:"car"}}}],k=function(){var e=Object(n.useState)(_),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(h.jsx)(d.Provider,{value:{users:a,setUsers:s},children:Object(h.jsx)(l.a,{children:Object(h.jsxs)("div",{className:"root-wrapper",children:[Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"main-wrapper",children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",children:Object(h.jsx)(u,{})}),Object(h.jsx)(o.a,{path:"/edit/:id",children:Object(h.jsx)(w,{})})]})}),Object(h.jsx)(N,{})]})})})};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))},52:function(e,t,a){},53:function(e,t,a){},59:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.16a8ec87.chunk.js.map